# Тестовое задание

- Спарсить (программно) первые 15 новостей с rbk.ru и вставить в базу данных (составить структуру самому) или в файл.
- Вывести все новости, сократив текст до 200 символов в качестве описания, со ссылкой на полную новость с кнопкой подробнее.
- На полной новости выводить картинку если есть в новости.

## Установка
`Для работы из коробки необходим Homestead`
- Клонировать репозиторий: `git clone git@git@github.com:LunevR/parser.git`
- Создать `.env` файл на основе `.env.example`: `cp .env.example .env`
- Установить composer зависимости: `composer install`
- Сгенерировать APP key: `php artisan key:generate`
- Установить зависимости для фронта: `yarn install` или `npm install`
- Собрать фронт: `yarn run dev` или `npm run dev`
- Создать базу (через Homestead.yaml или руками)
- Мигрировать схему базы данных: `php artisan migrate:fresh --seed`

**Важно** Работа парсера строится на базе очередей Redis для Homestead он доступен из коробки, в остальных случаях его необходимо пставить и настроить самостоятельно

## Получение записей
Для получения записей с последующим парсиннгом нужно воспользоваться консольной командой `php artisan parse:rbc`.
Для включения прослушивания очереди нужно использовать команду `php artisan queue:work redis --queue=rbc`
В случае возникновения каких-либо сбоев вся информация записывается в лог-файл `storage/logs/grabber-{date}`.
